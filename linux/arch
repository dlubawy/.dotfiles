export PATH=~/.dotfiles/linux/bin/:$PATH
export WINDOWID=$(xdotool getwindowfocus)

# Package management
alias update="sudo pacman -Syu"
alias install="sudo pacman -S"
alias remove="sudo pacman -Rs"
alias search="pacsearch"

# Install a package from AUR
function aurstall() {
    if [ $1 == "-d" ];then
        git clone https://aur.archlinux.org/$2.git ~/.opt/$2;
        cd ~/.opt/$2;
        makepkg -s;
        sudo pacman -U --asdeps $2-*.pkg.tar.xz;
        cd -;
    else
        git clone https://aur.archlinux.org/$@.git ~/.opt/$@;
        cd ~/.opt/$@;
        makepkg -si;
        cd -;
    fi
}

# Remove an AUR package and delete its source
function auremove() {
    sudo pacman -Rns $@;
    rm -rf ~/.opt/$@;
}

# Search the AUR repo for a package
function aursearch() {
    curl -G -d "/rpc/?v=5&type=search&by=name&arg=$@" https://aur.archlinux.org/rpc.php | jq -r '.results';
}

# vim:set filetype=sh:
