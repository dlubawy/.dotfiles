#!/bin/bash

apt_packages=()

# Misc.
apt_packages+=(
    awscli
    build-essential
    cmake
    cmatrix
    cowsay
    curl
    default-jdk
    default-jre
    gimp
    glances
    golang
    groff
    hollywood
    htop
    id3tool
    imagemagick
    jq
    keepass2
    libreoffice
    mercurial
    nmap
    openssh-server
    pidgin
    postgresql
    python-dev
    python3-dev
    python-pip
    python3-pip
    qbittorrent
    redshift
    vim
    virtualenv
    vlc
    silversearcher-ag
    sl
    steam
    telnet
    tmux
    tree
    vncviewer
)

# Chrome
e_header "Downloading Chrome..."
wget -O ~/Downloads/google-chrome-stable_current_amd64.deb https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
apt_packages+=(~/Downloads/google-chrome-stable_current_amd64.deb)

# Spotify
e_header "Adding Spotify to APT..."
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys BBEBDCB318AD50EC6865090613B00F1FD2C19886
echo deb http://repository.spotify.com stable non-free | sudo tee /etc/apt/sources.list.d/spotify.list
apt_packages+=(spotify-client)

e_header "Upgrading OS..."
sudo apt-get -qq update
sudo apt-get -qq -y dist-upgrade

if (( ${#apt_packages[@]} > 0 )); then
    e_header "Installing APT packages (${#apt_packages[@]})..."
    for package in "${apt_packages[@]}"; do
        e_arrow "$package"
        sudo apt-get -qq -y install "$package"
    done
fi

e_header "Installing tmuxp..."
pip3 install tmuxp

e_header "Installing PIA..."
wget -O ~/Downloads/pia-v70-installer-linux.tar.gz https://installers.privateinternetaccess.com/download/pia-v70-installer-linux.tar.gz
tar xzf ~/Downloads/pia-v70-installer-linux.tar.gz -C ~/Downloads/
~/Downloads/pia-v70-installer-linux.sh

e_header "Cleaning up files..."
rm -rf ~/Downloads/google-chrome-stable_current_amd64.deb
rm -rf ~/Downloads/pia-v70-installer-linux.tar.gz
rm -rf ~/Downloads/pia-v70-installer-linux.sh
